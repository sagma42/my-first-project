<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sayı Tahmin Etme Oyunu</title>
    <p class="bilgilendirme">OYUNA BAŞLA TUŞUNA BASTIKTAN SONRA 1 İLE 10 ARASINDAKİ SAYIYI BULMAYA ÇALIŞIN!</p>
    <link rel="stylesheet" href="./kumarsim3.css">
</head>

<body>

<div class="tuslar">
<button id="tus1" onclick="basla(), guncelle()">OYUNA BAŞLA</button>
<button onclick="dene(), guncelle()">DENE!</button>
</div>

<div class=divbu>
    <h1 class="bilgi">Bakiye: <span id ='bakiye'>1000</span>₺</h1>
    <h1 class="bilgiB">Bahis: <span id ='bahis'>100</span>₺</h1>  
</div>

<div class="bahisDiv">
<button onclick="bahisartir(), guncelle()">Bahis artır +50!</button>
<button onclick="bahsiazalt(), guncelle()">Bahis azalt -50!</button>
<button onclick="bahisMax()">Max bahis!</button>
</div>

<button class="anaSayfa" id="mM" <button onclick="window.location.href='index.html'">Ana sayfaya dön</button>

<div class="textBu" id="inputId">
    <input class="textBu" min="1" max="10" type="number" id="kGiris" placeholder="Sayıyı tahmin ediniz">
</div>


<script>
    let bakiye = localStorage.getItem("bakiye") || 100;
    let bahis = 100
    let pcSayi = Math.ceil(Math.random() * 10);

    function guncelle() {
    document.getElementById("bakiye").textContent = bakiye;
    document.getElementById("bahis").textContent = bahis;
}

if (bakiye <= 0) {
    alert("Bakiyeniz bitti! 100₺ yüklendi.");
    bakiye = 100;
    localStorage.setItem("bakiye", bakiye);
    document.getElementById("bakiyeGoster").textContent = "Bakiye: " + bakiye + "₺";

function bahisMax(){
        bahis = bakiye
            guncelle()
    }

document.getElementById("bahis").textContent = bahis

function bahsiazalt(){
document.getElementById("bahis").textContent = bahis
document.getElementById("bakiye").textContent = bakiye

bahis -= 50
    if (bahis <= -50){
    bahis = 0
    alert('Bahis 0dan küçük olamaz')

    if (bahis > bakiye + 1){
    bahis = bakiye
    alert('Bahis Bakiyeden yüksek olamaz.')
    
}
}
}

function bahisartir(){
    bahis += +50 
 if (bahis > bakiye){
    bahis = bakiye
    alert('Bahis bakiyeden yüksek olamaz!')
 }
}

function basla(){
pcSayi = (Math.ceil(Math.random() * 10))
console.log (pcSayi)
document.getElementById("bakiye").textContent = bakiye
guncelle()
}

function dene() {
    let girisK = parseInt(document.getElementById("kGiris").value);

    if (bakiye <= 0) {
    guncelle()
    bahis = 0;
    bakiye = 0;
    alert("Bakiyen bitti! Site yeniden başlatılıyor...");
    location.reload()
}
    else if (isNaN(girisK) || girisK < 1 || girisK > 10) {
        alert("1 ile 10 arasında bir sayı giriniz.");
        return;
    }
    else if (pcSayi === girisK) {
        alert('Kazandın!!');
        bakiye += bahis * 3.5; // Kazanırsan bakiyeye ekle
       
    } else {
        alert('Başaramadın!');
        bakiye -= bahis; // Kaybedersen bakiyeden çıkar
        if (bakiye < 0) bakiye = 0; // Negatif bakiye olmasın
    }

    localStorage.setItem("bakiye", bakiye);


    basla(), guncelle()

    guncelle(); // Değişen bakiyeyi göster ..chatgpt 
}
document.getElementById("bakiye").innerText = bakiye;
</script>
</body>
</html>
